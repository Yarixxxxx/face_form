(()=>{"use strict";const e=document.getElementById("loginForm"),t=document.getElementById("email"),n=document.getElementById("password"),o=document.getElementById("remember"),a=document.getElementById("submitBtn"),s=document.getElementById("easterEgg");function l(e,t){const n=e.parentElement;let o=n.querySelector(".error-message");o||(o=document.createElement("div"),o.className="error-message",o.style.color="#f02849",o.style.fontSize="12px",o.style.marginTop="4px",n.appendChild(o)),o.textContent=t,e.classList.add("invalid-input")}function d(e){const t=e.parentElement.querySelector(".error-message");t&&t.remove(),e.classList.remove("invalid-input")}function r(){const e=document.createElement("div");e.classList.add("snowflake");const t=["❄️","❅","❆","★","✦"];e.textContent=t[Math.floor(Math.random()*t.length)],e.style.left=100*Math.random()+"vw",e.style.animationDuration="3s",e.style.opacity=Math.random().toString(),e.style.fontSize=20*Math.random()+10+"px",document.body.appendChild(e),setTimeout((()=>{e.remove()}),5e3)}function i(){for(let e=0;e<1e4;e++)setTimeout((()=>{r()}),100*e)}function m(){const e=document.createElement("div");e.textContent="Вы нашли пасхалку! Facebook Clown приветствует вас!",e.style.position="fixed",e.style.bottom="80px",e.style.right="20px",e.style.backgroundColor="#1877f2",e.style.color="white",e.style.padding="15px",e.style.borderRadius="8px",e.style.zIndex="1000",e.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)",e.style.maxWidth="250px",e.style.textAlign="center",e.style.animation="fadeIn 0.5s ease",document.body.appendChild(e),setTimeout((()=>{e.style.animation="fadeOut 0.5s ease",setTimeout((()=>{e.remove()}),500)}),3e3),i()}function c(e){e.preventDefault(),function(){let e=!0;var o;return o=t.value,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)||/^\d{10}$/.test(o)?d(t):(l(t,"Пожалуйста, введите действительный email или номер телефона"),e=!1),function(e){return e.length>=6}(n.value)?d(n):(l(n,"Пароль должен содержать не менее 6 символов"),e=!1),e}()&&(a.disabled=!0,a.classList.add("loading"),setTimeout((()=>{a.classList.remove("loading"),a.disabled=!1,"user@example.com"===t.value&&"Password123"===n.value?(o.checked?localStorage.setItem("savedEmail",t.value):localStorage.removeItem("savedEmail"),alert("Вход выполнен успешно! Добро пожаловать!"),i()):alert("Неверный email или пароль. Попробуйте снова.")}),1500))}window.addEventListener("DOMContentLoaded",(function(){!function(){const e=localStorage.getItem("savedEmail");e&&(t.value=e,o.checked=!0)}(),e.addEventListener("submit",c),s.addEventListener("click",m);const n=document.createElement("style");n.textContent="\n        @keyframes fadeIn {\n            from { opacity: 0; transform: translateY(10px); }\n            to { opacity: 1; transform: translateY(0); }\n        }\n        \n        @keyframes fadeOut {\n            from { opacity: 1; transform: translateY(0); }\n            to { opacity: 0; transform: translateY(10px); }\n        }\n        \n        .sr-only {\n            position: absolute;\n            width: 1px;\n            height: 1px;\n            padding: 0;\n            margin: -1px;\n            overflow: hidden;\n            clip: rect(0, 0, 0, 0);\n            border: 0;\n        }\n    ",document.head.appendChild(n)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXckIsSUFKWEksRUFBVUosRUEvQ0osK0NBZ0ROcUQsR0FBVSxHQUtQQSxDQUNYLENBK0RRSSxLQUNBdkQsRUFBVXdELFVBQVcsRUFDckJ4RCxFQUFVaUIsVUFBVUMsSUFBSSxXQUN4QmUsWUFBVyxLQUNQakMsRUFBVWlCLFVBQVVHLE9BQU8sV0FDM0JwQixFQUFVd0QsVUFBVyxFQXZIdEIscUJBd0hLM0QsRUFBV3VELE9BdkhiLGdCQXdIRXRELEVBQWNzRCxPQXBFdEJyRCxFQUFpQjBELFFBQ2pCQyxhQUFhQyxRQUFRLGFBQWM5RCxFQUFXdUQsT0FHOUNNLGFBQWFFLFdBQVcsY0FrRWhCQyxNQUFNLDRDQUNOM0IsS0FHQTJCLE1BQU0sK0NBQ1YsR0FDRCxNQUVYLENBOEJBQyxPQUFPQyxpQkFBaUIsb0JBN0J4QixZQXhFQSxXQUNJLE1BQU1DLEVBQWFOLGFBQWFPLFFBQVEsY0FDcENELElBQ0FuRSxFQUFXdUQsTUFBUVksRUFDbkJqRSxFQUFpQjBELFNBQVUsRUFFbkMsQ0FtRUlTLEdBQ0F4RSxFQUFVcUUsaUJBQWlCLFNBQVVmLEdBQ3JDL0MsRUFBVThELGlCQUFpQixRQUFTM0IsR0FDcEMsTUFBTXpCLEVBQVFoQixTQUFTYyxjQUFjLFNBQ3JDRSxFQUFNSyxZQUFjLG1tQkFzQnBCckIsU0FBU3dFLEtBQUtwRCxZQUFZSixFQUM5QixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2l0aC1pbmZyYXN0cnVjdHVyZS8uL3NyYy9zY3JpcHQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g0JDQvdC90L7RgtCw0YbQuNC4INGC0LjQv9C+0LIg0LTQu9GPIERPTSDRjdC70LXQvNC10L3RgtC+0LJcbmNvbnN0IGxvZ2luRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbkZvcm0nKTtcbmNvbnN0IGVtYWlsSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWwnKTtcbmNvbnN0IHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQnKTtcbmNvbnN0IHJlbWVtYmVyQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtZW1iZXInKTtcbmNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXRCdG4nKTtcbmNvbnN0IGVhc3RlckVnZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlYXN0ZXJFZ2cnKTtcbi8vINCi0LjQv9C40LfQuNGA0L7QstCw0L3QvdGL0LUg0LrQvtC90YHRgtCw0L3RgtGLXG5jb25zdCBlcnJvck1lc3NhZ2VzID0ge1xuICAgIGVtYWlsOiAn0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INC00LXQudGB0YLQstC40YLQtdC70YzQvdGL0LkgZW1haWwg0LjQu9C4INC90L7QvNC10YAg0YLQtdC70LXRhNC+0L3QsCcsXG4gICAgcGFzc3dvcmQ6ICfQn9Cw0YDQvtC70Ywg0LTQvtC70LbQtdC9INGB0L7QtNC10YDQttCw0YLRjCDQvdC1INC80LXQvdC10LUgNiDRgdC40LzQstC+0LvQvtCyJyxcbn07XG5jb25zdCB2YWxpZENyZWRlbnRpYWxzID0ge1xuICAgIGVtYWlsOiAndXNlckBleGFtcGxlLmNvbScsXG4gICAgcGFzc3dvcmQ6ICdQYXNzd29yZDEyMycsXG59O1xuLy8g0KTRg9C90LrRhtC40Lgg0YEg0LDQvdC90L7RgtCw0YbQuNC10Lkg0YLQuNC/0L7QslxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRW1haWwodmFsdWUpIHtcbiAgICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gICAgY29uc3QgcGhvbmVSZWdleCA9IC9eXFxkezEwfSQvO1xuICAgIHJldHVybiBlbWFpbFJlZ2V4LnRlc3QodmFsdWUpIHx8IHBob25lUmVnZXgudGVzdCh2YWx1ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQYXNzd29yZCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPj0gNjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaG93RXJyb3IoaW5wdXQsIG1lc3NhZ2UpIHtcbiAgICBjb25zdCBmb3JtR3JvdXAgPSBpbnB1dC5wYXJlbnRFbGVtZW50O1xuICAgIGxldCBlcnJvckVsZW1lbnQgPSBmb3JtR3JvdXAucXVlcnlTZWxlY3RvcignLmVycm9yLW1lc3NhZ2UnKTtcbiAgICBpZiAoIWVycm9yRWxlbWVudCkge1xuICAgICAgICBlcnJvckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTmFtZSA9ICdlcnJvci1tZXNzYWdlJztcbiAgICAgICAgZXJyb3JFbGVtZW50LnN0eWxlLmNvbG9yID0gJyNmMDI4NDknO1xuICAgICAgICBlcnJvckVsZW1lbnQuc3R5bGUuZm9udFNpemUgPSAnMTJweCc7XG4gICAgICAgIGVycm9yRWxlbWVudC5zdHlsZS5tYXJnaW5Ub3AgPSAnNHB4JztcbiAgICAgICAgZm9ybUdyb3VwLmFwcGVuZENoaWxkKGVycm9yRWxlbWVudCk7XG4gICAgfVxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCgnaW52YWxpZC1pbnB1dCcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyRXJyb3IoaW5wdXQpIHtcbiAgICBjb25zdCBmb3JtR3JvdXAgPSBpbnB1dC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1Hcm91cC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItbWVzc2FnZScpO1xuICAgIGlmIChlcnJvckVsZW1lbnQpIHtcbiAgICAgICAgZXJyb3JFbGVtZW50LnJlbW92ZSgpO1xuICAgIH1cbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdpbnZhbGlkLWlucHV0Jyk7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVGb3JtKCkge1xuICAgIGxldCBpc1ZhbGlkID0gdHJ1ZTtcbiAgICBpZiAoIXZhbGlkYXRlRW1haWwoZW1haWxJbnB1dC52YWx1ZSkpIHtcbiAgICAgICAgc2hvd0Vycm9yKGVtYWlsSW5wdXQsIGVycm9yTWVzc2FnZXMuZW1haWwpO1xuICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjbGVhckVycm9yKGVtYWlsSW5wdXQpO1xuICAgIH1cbiAgICBpZiAoIXZhbGlkYXRlUGFzc3dvcmQocGFzc3dvcmRJbnB1dC52YWx1ZSkpIHtcbiAgICAgICAgc2hvd0Vycm9yKHBhc3N3b3JkSW5wdXQsIGVycm9yTWVzc2FnZXMucGFzc3dvcmQpO1xuICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjbGVhckVycm9yKHBhc3N3b3JkSW5wdXQpO1xuICAgIH1cbiAgICByZXR1cm4gaXNWYWxpZDtcbn1cbmZ1bmN0aW9uIHNhdmVDcmVkZW50aWFscygpIHtcbiAgICBpZiAocmVtZW1iZXJDaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzYXZlZEVtYWlsJywgZW1haWxJbnB1dC52YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnc2F2ZWRFbWFpbCcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlc3RvcmVDcmVkZW50aWFscygpIHtcbiAgICBjb25zdCBzYXZlZEVtYWlsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NhdmVkRW1haWwnKTtcbiAgICBpZiAoc2F2ZWRFbWFpbCkge1xuICAgICAgICBlbWFpbElucHV0LnZhbHVlID0gc2F2ZWRFbWFpbDtcbiAgICAgICAgcmVtZW1iZXJDaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVTbm93Zmxha2UoKSB7XG4gICAgY29uc3Qgc25vd2ZsYWtlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc25vd2ZsYWtlLmNsYXNzTGlzdC5hZGQoJ3Nub3dmbGFrZScpO1xuICAgIGNvbnN0IHN5bWJvbHMgPSBbJ+KdhO+4jycsICfinYUnLCAn4p2GJywgJ+KYhScsICfinKYnXTtcbiAgICBzbm93Zmxha2UudGV4dENvbnRlbnQgPSBzeW1ib2xzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHN5bWJvbHMubGVuZ3RoKV07XG4gICAgc25vd2ZsYWtlLnN0eWxlLmxlZnQgPSBNYXRoLnJhbmRvbSgpICogMTAwICsgJ3Z3JztcbiAgICBzbm93Zmxha2Uuc3R5bGUuYW5pbWF0aW9uRHVyYXRpb24gPSAnM3MnO1xuICAgIHNub3dmbGFrZS5zdHlsZS5vcGFjaXR5ID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygpO1xuICAgIHNub3dmbGFrZS5zdHlsZS5mb250U2l6ZSA9IE1hdGgucmFuZG9tKCkgKiAyMCArIDEwICsgJ3B4JztcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNub3dmbGFrZSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNub3dmbGFrZS5yZW1vdmUoKTtcbiAgICB9LCA1MDAwKTtcbn1cbmZ1bmN0aW9uIGFjdGl2YXRlU25vd2ZhbGwoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDAwMDsgaSsrKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY3JlYXRlU25vd2ZsYWtlKCk7XG4gICAgICAgIH0sIGkgKiAxMDApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNob3dFYXN0ZXJFZ2coKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1lc3NhZ2UudGV4dENvbnRlbnQgPSAn0JLRiyDQvdCw0YjQu9C4INC/0LDRgdGF0LDQu9C60YMhIEZhY2Vib29rIENsb3duINC/0YDQuNCy0LXRgtGB0YLQstGD0LXRgiDQstCw0YEhJztcbiAgICBtZXNzYWdlLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICBtZXNzYWdlLnN0eWxlLmJvdHRvbSA9ICc4MHB4JztcbiAgICBtZXNzYWdlLnN0eWxlLnJpZ2h0ID0gJzIwcHgnO1xuICAgIG1lc3NhZ2Uuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMxODc3ZjInO1xuICAgIG1lc3NhZ2Uuc3R5bGUuY29sb3IgPSAnd2hpdGUnO1xuICAgIG1lc3NhZ2Uuc3R5bGUucGFkZGluZyA9ICcxNXB4JztcbiAgICBtZXNzYWdlLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc4cHgnO1xuICAgIG1lc3NhZ2Uuc3R5bGUuekluZGV4ID0gJzEwMDAnO1xuICAgIG1lc3NhZ2Uuc3R5bGUuYm94U2hhZG93ID0gJzAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjIpJztcbiAgICBtZXNzYWdlLnN0eWxlLm1heFdpZHRoID0gJzI1MHB4JztcbiAgICBtZXNzYWdlLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIG1lc3NhZ2Uuc3R5bGUuYW5pbWF0aW9uID0gJ2ZhZGVJbiAwLjVzIGVhc2UnO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobWVzc2FnZSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIG1lc3NhZ2Uuc3R5bGUuYW5pbWF0aW9uID0gJ2ZhZGVPdXQgMC41cyBlYXNlJztcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBtZXNzYWdlLnJlbW92ZSgpO1xuICAgICAgICB9LCA1MDApO1xuICAgIH0sIDMwMDApO1xuICAgIGFjdGl2YXRlU25vd2ZhbGwoKTtcbn1cbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHZhbGlkYXRlRm9ybSgpKSB7XG4gICAgICAgIHN1Ym1pdEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHN1Ym1pdEJ0bi5jbGFzc0xpc3QuYWRkKCdsb2FkaW5nJyk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc3VibWl0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKTtcbiAgICAgICAgICAgIHN1Ym1pdEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGVtYWlsSW5wdXQudmFsdWUgPT09IHZhbGlkQ3JlZGVudGlhbHMuZW1haWwgJiZcbiAgICAgICAgICAgICAgICBwYXNzd29yZElucHV0LnZhbHVlID09PSB2YWxpZENyZWRlbnRpYWxzLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgc2F2ZUNyZWRlbnRpYWxzKCk7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ9CS0YXQvtC0INCy0YvQv9C+0LvQvdC10L0g0YPRgdC/0LXRiNC90L4hINCU0L7QsdGA0L4g0L/QvtC20LDQu9C+0LLQsNGC0YwhJyk7XG4gICAgICAgICAgICAgICAgYWN0aXZhdGVTbm93ZmFsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ9Cd0LXQstC10YDQvdGL0LkgZW1haWwg0LjQu9C4INC/0LDRgNC+0LvRjC4g0J/QvtC/0YDQvtCx0YPQudGC0LUg0YHQvdC+0LLQsC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTUwMCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgICByZXN0b3JlQ3JlZGVudGlhbHMoKTtcbiAgICBsb2dpbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlU3VibWl0KTtcbiAgICBlYXN0ZXJFZ2cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93RWFzdGVyRWdnKTtcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgICAgIEBrZXlmcmFtZXMgZmFkZUluIHtcbiAgICAgICAgICAgIGZyb20geyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTBweCk7IH1cbiAgICAgICAgICAgIHRvIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIEBrZXlmcmFtZXMgZmFkZU91dCB7XG4gICAgICAgICAgICBmcm9tIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9XG4gICAgICAgICAgICB0byB7IG9wYWNpdHk6IDA7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMHB4KTsgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAuc3Itb25seSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB3aWR0aDogMXB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAxcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgbWFyZ2luOiAtMXB4O1xuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICAgIGNsaXA6IHJlY3QoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICBib3JkZXI6IDA7XG4gICAgICAgIH1cbiAgICBgO1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBpbml0KTtcbiJdLCJuYW1lcyI6WyJsb2dpbkZvcm0iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZW1haWxJbnB1dCIsInBhc3N3b3JkSW5wdXQiLCJyZW1lbWJlckNoZWNrYm94Iiwic3VibWl0QnRuIiwiZWFzdGVyRWdnIiwic2hvd0Vycm9yIiwiaW5wdXQiLCJtZXNzYWdlIiwiZm9ybUdyb3VwIiwicGFyZW50RWxlbWVudCIsImVycm9yRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJjb2xvciIsImZvbnRTaXplIiwibWFyZ2luVG9wIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsImFkZCIsImNsZWFyRXJyb3IiLCJyZW1vdmUiLCJjcmVhdGVTbm93Zmxha2UiLCJzbm93Zmxha2UiLCJzeW1ib2xzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwibGVmdCIsImFuaW1hdGlvbkR1cmF0aW9uIiwib3BhY2l0eSIsInRvU3RyaW5nIiwiYm9keSIsInNldFRpbWVvdXQiLCJhY3RpdmF0ZVNub3dmYWxsIiwiaSIsInNob3dFYXN0ZXJFZ2ciLCJwb3NpdGlvbiIsImJvdHRvbSIsInJpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsInpJbmRleCIsImJveFNoYWRvdyIsIm1heFdpZHRoIiwidGV4dEFsaWduIiwiYW5pbWF0aW9uIiwiaGFuZGxlU3VibWl0IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImlzVmFsaWQiLCJ2YWx1ZSIsInRlc3QiLCJ2YWxpZGF0ZVBhc3N3b3JkIiwidmFsaWRhdGVGb3JtIiwiZGlzYWJsZWQiLCJjaGVja2VkIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJhbGVydCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzYXZlZEVtYWlsIiwiZ2V0SXRlbSIsInJlc3RvcmVDcmVkZW50aWFscyIsImhlYWQiXSwic291cmNlUm9vdCI6IiJ9